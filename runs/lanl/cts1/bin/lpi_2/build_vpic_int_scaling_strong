#!/bin/bash

VERSION_INTEL=17.0.2
VERSION_OPENMPI=2.1.1

module load friendly-testing
module load sandbox

module load intel
module swap intel intel/$VERSION_INTEL

module load openmpi
module swap openmpi openmpi/$VERSION_OPENMPI

module list

#######################################################################
# Build executables for 1 thread/rank i.e. MPI only case and HT
# disabled.

vpic lpi_ddr_nn_0001_nppn_001_ntpp_001.cxx
vpic lpi_ddr_nn_0001_nppn_002_ntpp_001.cxx
vpic lpi_ddr_nn_0001_nppn_004_ntpp_001.cxx
vpic lpi_ddr_nn_0001_nppn_006_ntpp_001.cxx
vpic lpi_ddr_nn_0001_nppn_008_ntpp_001.cxx
vpic lpi_ddr_nn_0001_nppn_012_ntpp_001.cxx
vpic lpi_ddr_nn_0001_nppn_016_ntpp_001.cxx
vpic lpi_ddr_nn_0001_nppn_018_ntpp_001.cxx
vpic lpi_ddr_nn_0001_nppn_024_ntpp_001.cxx
vpic lpi_ddr_nn_0001_nppn_032_ntpp_001.cxx
vpic lpi_ddr_nn_0001_nppn_036_ntpp_001.cxx

vpic lpi_ddr_nn_0002_nppn_036_ntpp_001.cxx
vpic lpi_ddr_nn_0004_nppn_036_ntpp_001.cxx
vpic lpi_ddr_nn_0008_nppn_036_ntpp_001.cxx

vpic lpi_hbm_nn_0001_nppn_001_ntpp_001.cxx
vpic lpi_hbm_nn_0001_nppn_002_ntpp_001.cxx
vpic lpi_hbm_nn_0001_nppn_004_ntpp_001.cxx
vpic lpi_hbm_nn_0001_nppn_006_ntpp_001.cxx
vpic lpi_hbm_nn_0001_nppn_008_ntpp_001.cxx
vpic lpi_hbm_nn_0001_nppn_012_ntpp_001.cxx
vpic lpi_hbm_nn_0001_nppn_016_ntpp_001.cxx
vpic lpi_hbm_nn_0001_nppn_018_ntpp_001.cxx
vpic lpi_hbm_nn_0001_nppn_024_ntpp_001.cxx
vpic lpi_hbm_nn_0001_nppn_032_ntpp_001.cxx
vpic lpi_hbm_nn_0001_nppn_036_ntpp_001.cxx

#######################################################################
# Build executables for 1 thread/rank i.e. MPI only case and HT
# enabled.

vpic lpi_ddr_nn_0001_nppn_048_ntpp_001.cxx
vpic lpi_ddr_nn_0001_nppn_064_ntpp_001.cxx
vpic lpi_ddr_nn_0001_nppn_072_ntpp_001.cxx

vpic lpi_ddr_nn_0002_nppn_072_ntpp_001.cxx
vpic lpi_ddr_nn_0004_nppn_072_ntpp_001.cxx
vpic lpi_ddr_nn_0008_nppn_072_ntpp_001.cxx

vpic lpi_hbm_nn_0001_nppn_048_ntpp_001.cxx
vpic lpi_hbm_nn_0001_nppn_064_ntpp_001.cxx
vpic lpi_hbm_nn_0001_nppn_072_ntpp_001.cxx

#######################################################################
# Build executables for 2 threads/rank i.e. MPI+threads case.

vpic lpi_ddr_nn_0001_nppn_001_ntpp_002.cxx
vpic lpi_ddr_nn_0001_nppn_002_ntpp_002.cxx
vpic lpi_ddr_nn_0001_nppn_004_ntpp_002.cxx
vpic lpi_ddr_nn_0001_nppn_006_ntpp_002.cxx
vpic lpi_ddr_nn_0001_nppn_008_ntpp_002.cxx
vpic lpi_ddr_nn_0001_nppn_012_ntpp_002.cxx
vpic lpi_ddr_nn_0001_nppn_016_ntpp_002.cxx
vpic lpi_ddr_nn_0001_nppn_018_ntpp_002.cxx
vpic lpi_ddr_nn_0001_nppn_024_ntpp_002.cxx
vpic lpi_ddr_nn_0001_nppn_032_ntpp_002.cxx
vpic lpi_ddr_nn_0001_nppn_036_ntpp_002.cxx

vpic lpi_ddr_nn_0002_nppn_036_ntpp_002.cxx
vpic lpi_ddr_nn_0004_nppn_036_ntpp_002.cxx
vpic lpi_ddr_nn_0008_nppn_036_ntpp_002.cxx

vpic lpi_hbm_nn_0001_nppn_001_ntpp_002.cxx
vpic lpi_hbm_nn_0001_nppn_002_ntpp_002.cxx
vpic lpi_hbm_nn_0001_nppn_004_ntpp_002.cxx
vpic lpi_hbm_nn_0001_nppn_006_ntpp_002.cxx
vpic lpi_hbm_nn_0001_nppn_008_ntpp_002.cxx
vpic lpi_hbm_nn_0001_nppn_012_ntpp_002.cxx
vpic lpi_hbm_nn_0001_nppn_016_ntpp_002.cxx
vpic lpi_hbm_nn_0001_nppn_018_ntpp_002.cxx
vpic lpi_hbm_nn_0001_nppn_024_ntpp_002.cxx
vpic lpi_hbm_nn_0001_nppn_032_ntpp_002.cxx
vpic lpi_hbm_nn_0001_nppn_036_ntpp_002.cxx
